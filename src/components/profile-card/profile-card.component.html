@if (employee(); as emp) {
  <div class="bg-white rounded-xl shadow-sm p-6 flex flex-col items-center">
    <div class="relative">
      <img class="w-24 h-24 rounded-full object-cover ring-4 ring-white" [src]="emp.avatar" [alt]="emp.name">
      <span class="absolute bottom-0 right-0 block h-5 w-5 rounded-full bg-green-400 ring-2 ring-white"></span>
    </div>
    <h3 class="mt-4 text-xl font-bold text-slate-800">{{ emp.name }}</h3>
    <p class="text-sm text-slate-500">{{ emp.jobTitle }}</p>
    <div class="mt-2 text-sm font-semibold bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full">{{ emp.salary }}</div>
    
    <div class="w-full mt-6 space-y-2">
      @for(item of accordionItems(); track item.id) {
        <div class="border border-slate-200 rounded-lg">
          <button (click)="toggleAccordion(item.id)" class="w-full flex justify-between items-center p-3 text-left font-semibold text-slate-700 hover:bg-slate-50">
            <span>{{ item.title }}</span>
            <svg class="w-5 h-5 transform transition-transform" [class]="item.expanded ? 'rotate-180' : ''" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
          </button>
          @if (item.expanded) {
            <div class="p-3 border-t border-slate-200">
              @if (item.id === 'devices') {
                <div class="flex items-center text-sm text-slate-600">
                  <svg class="w-8 h-8 mr-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                  <div>
                    <p class="font-semibold">MacBook Air</p>
                    <p class="text-xs text-slate-400">Version M1</p>
                  </div>
                </div>
              } @else {
                @for(contentItem of item.content; track contentItem) {
                  <p class="text-sm text-slate-600">{{ contentItem }}</p>
                }
              }
            </div>
          }
        </div>
      }
    </div>
  </div>
} @else {
  <div class="bg-white rounded-xl shadow-sm p-6 flex flex-col items-center animate-pulse">
    <div class="relative">
      <div class="w-24 h-24 rounded-full bg-slate-200"></div>
    </div>
    <div class="mt-4 h-6 w-3/4 bg-slate-200 rounded"></div>
    <div class="mt-2 h-4 w-1/2 bg-slate-200 rounded"></div>
    <div class="mt-2 h-6 w-1/4 bg-slate-200 rounded-full"></div>
  </div>
}